{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\aggut\\\\OneDrive\\\\Documenten\\\\GitHub\\\\Eindproject-SuperClass\\\\in28min-tutorial\\\\DDDemoApp\\\\src\\\\components\\\\DemoApp\\\\DemoListComponent.jsx\";\nimport React, { Component } from 'react';\nimport TodoDataService from '../api/DemoDataService.js';\nimport AuthenticationService from './AuthenticationService.js';\nimport moment from 'moment';\n\nclass ListTodosComponent extends Component {\n  constructor(props) {\n    //gets called when component is being initialized\n    super(props);\n\n    this.refreshTodos = () => {\n      let username = AuthenticationService.getLoggedInUsername();\n      TodoDataService.retrieveAllTodos(username).then(response => {\n        this.setState({\n          todos: response.data\n        });\n      });\n    };\n\n    this.deleteTodoClicked = id => {\n      let username = AuthenticationService.getLoggedInUsername();\n      TodoDataService.deleteTodo(username, id).then(response => {\n        this.setState({\n          message: \"Delete of todo \".concat(id, \" Succesful\")\n        });\n        this.refreshTodos();\n      });\n    };\n\n    this.updateTodoClicked = id => {\n      this.props.history.push(\"/todos/\".concat(id));\n    };\n\n    this.addTodoClicked = () => {\n      this.props.history.push(\"/todos/-1\");\n    };\n\n    this.state = {\n      todos: [//better not to do initial API call directly in the constructor, otherwise state will not be initialized until API call is completed\n        //{id:1, description:\"Learn React\", done:false, targetDate:new Date()}, \n      ],\n      message: null\n    };\n  }\n\n  componentDidMount() {\n    this.refreshTodos();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, this.state.message && React.createElement(\"div\", {\n      className: \"alert alert-success\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, this.state.message), React.createElement(\"h1\", {\n      className: \"title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, \"DEMO'S\"), React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      className: \"table\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, \"id\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, \"user\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, \"description\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, \"Upload Date\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, \"Status\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, \"Update\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, \"Delete\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, //map() method is used to iterate over an array and calling function on every element of array.\n    this.state.todos.map(todo => React.createElement(\"tr\", {\n      key: todo.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, todo.id), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, todo.username), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, todo.description), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, moment(todo.targetDate).format(\"YYYY-MM-DD\")), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, todo.isDone.toString()), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"button_small\",\n      onClick: () => this.updateTodoClicked(todo.id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, \"Update\")), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"button_small\",\n      onClick: () => this.deleteTodoClicked(todo.id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, \"Delete\")))))), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"button\",\n      onClick: this.addTodoClicked,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \"Add\"))));\n  }\n\n}\n\nexport default ListTodosComponent;","map":{"version":3,"sources":["C:/Users/aggut/OneDrive/Documenten/GitHub/Eindproject-SuperClass/in28min-tutorial/DDDemoApp/src/components/DemoApp/DemoListComponent.jsx"],"names":["React","Component","TodoDataService","AuthenticationService","moment","ListTodosComponent","constructor","props","refreshTodos","username","getLoggedInUsername","retrieveAllTodos","then","response","setState","todos","data","deleteTodoClicked","id","deleteTodo","message","updateTodoClicked","history","push","addTodoClicked","state","componentDidMount","render","map","todo","description","targetDate","format","isDone","toString"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\r\nimport TodoDataService from '../api/DemoDataService.js'\r\nimport AuthenticationService from './AuthenticationService.js'\r\nimport moment from 'moment'\r\n\r\nclass ListTodosComponent extends Component {\r\n    constructor(props){             //gets called when component is being initialized\r\n        super(props)\r\n        this.state = {\r\n            todos: \r\n            [               //better not to do initial API call directly in the constructor, otherwise state will not be initialized until API call is completed\r\n            //{id:1, description:\"Learn React\", done:false, targetDate:new Date()}, \r\n            ], \r\n            message : null\r\n        }\r\n    }\r\n\r\n    componentDidMount() { \r\n        this.refreshTodos();\r\n    }    \r\n\r\n    refreshTodos = () => {\r\n        let username = AuthenticationService.getLoggedInUsername()\r\n        TodoDataService.retrieveAllTodos(username)\r\n        .then(\r\n            response => {\r\n            this.setState({todos : response.data})\r\n        })\r\n    }\r\n\r\n    deleteTodoClicked = (id) => {\r\n        let username = AuthenticationService.getLoggedInUsername()\r\n        TodoDataService.deleteTodo(username, id)\r\n        .then (\r\n            response =>{\r\n                this.setState({message:`Delete of todo ${id} Succesful`});\r\n                this.refreshTodos();\r\n            }\r\n        )\r\n    }\r\n\r\n    updateTodoClicked = (id) => {\r\n        this.props.history.push(`/todos/${id}`)\r\n    }\r\n\r\n    addTodoClicked = () => {\r\n        this.props.history.push(`/todos/-1`)\r\n    }\r\n\r\n    render(){\r\n        return (\r\n        <div>\r\n            \r\n            {this.state.message && <div className=\"alert alert-success\">{this.state.message}</div>}\r\n            <h1 className=\"title\">DEMO'S</h1>\r\n            <div className=\"container\">            \r\n            <table className=\"table\">\r\n                <thead>\r\n                    <tr>\r\n                        <th>id</th>\r\n                        <th>user</th>\r\n                        <th>description</th>\r\n                        <th>Upload Date</th>\r\n                        <th>Status</th>\r\n                        <th>Update</th>\r\n                        <th>Delete</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {\r\n//map() method is used to iterate over an array and calling function on every element of array.\r\n                        this.state.todos.map (\r\n                            todo =>                        \r\n                            <tr key={todo.id}>\r\n                                <td>{todo.id}</td>\r\n                                <td>{todo.username}</td>\r\n                                <td>{todo.description}</td>\r\n                                <td>{moment(todo.targetDate).format(\"YYYY-MM-DD\")}</td>\r\n                                <td>{todo.isDone.toString()}</td>                                \r\n                                <td><button className=\"button_small\" onClick={() => this.updateTodoClicked(todo.id)}>Update</button></td>\r\n                                <td><button className=\"button_small\" onClick={() => this.deleteTodoClicked(todo.id)}>Delete</button></td>\r\n                            </tr>\r\n                        )\r\n                    }\r\n                </tbody>\r\n            </table>\r\n            <div className=\"row\">\r\n                <button className=\"button\" onClick={this.addTodoClicked}>Add</button>\r\n            </div>\r\n            </div>\r\n        </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ListTodosComponent"]},"metadata":{},"sourceType":"module"}